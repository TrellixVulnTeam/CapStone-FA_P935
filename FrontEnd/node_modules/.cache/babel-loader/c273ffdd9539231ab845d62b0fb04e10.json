{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyStuff\\\\George Brown\\\\Year 3\\\\2 Semester\\\\CAPSTONE PROJECT 02\\\\Github\\\\CapStone-FA\\\\FrontEnd\\\\src\\\\components\\\\Dashboards\\\\Detailed\\\\User\\\\Requests.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport \"../User/UserStyles.css\"; //Modal\n\nimport Modal from \"react-modal\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Requests() {\n  _s();\n\n  const history = useHistory();\n  const [serverFname, setserverFname] = useState(\"\");\n  const [serverLname, setserverLname] = useState(\"\");\n  const [serverPhone, setserverPhone] = useState(\"\");\n  const [serverEmail, setserverEmail] = useState(\"\");\n  const [serverPassword, setserverPassword] = useState(\"\");\n  const [pageRefresh, setpageRefresh] = useState(0);\n  const [requests, setrequests] = useState([]);\n  const [requestModal, setrequestModal] = useState(false);\n  const [errorMessage, seterrorMessage] = useState(\"\");\n  const [reportType, setreportType] = useState(\"\");\n  const [topic, setTtopic] = useState(\"\");\n  const [urgency, seturgency] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  useEffect(() => {\n    const user = {\n      \"email\": localStorage.getItem(\"user\")\n    };\n    axios.post(\"http://localhost:8080/users/getuser\", user).then(res => {\n      const userData = res.data[0];\n      setserverFname(userData.first_name);\n      setserverLname(userData.last_name);\n      setserverPhone(userData.phone);\n      setserverEmail(userData.email);\n      setserverPassword(userData.password);\n    });\n  }, [serverFname, serverLname, serverPhone, serverEmail, serverPassword]); //load requests\n\n  useEffect(() => {\n    const user = {\n      email: serverEmail\n    };\n    axios.post(\"http://localhost:8080/userrequests\", user).then(res => {\n      const cardData = res.data;\n      console.log(cardData);\n      setuserCards([...cardData]);\n    });\n  }, [pageRefresh]); //handle modal request\n\n  function closeAndUpdateRequest() {\n    //do updates  here  \n    const request = {\n      reportType: reportType,\n      topic: topic,\n      urgency: urgency,\n      description: description,\n      email: serverEmail,\n      user_name: `${serverFname} ${serverLname}`\n    };\n\n    if (topic === \"\" || description === \"\") {\n      seterrorMessage(`Please fill topic and description`);\n    } else {\n      axios.post('http://localhost:8080/userrequest', request).then(res => {// const requestData = res.data.errors\n        // console.log(res.data)\n        // console.log(requestData)\n      });\n      setreportType(\"\");\n      setTtopic(\"\");\n      seturgency(\"\");\n      setDescription(\"\");\n      setrequestModal(false);\n    }\n  }\n\n  function openAndUpdateRequest() {\n    setrequestModal(true);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Hello from Requests\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"myDiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Requests Here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          id: \"customers\",\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Request 01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Request 02\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"Request 03\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: openAndUpdateRequest,\n          children: \"Make a Request\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"myDiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Responds Here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          id: \"customers\",\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"\\u064CRespond 01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                children: \"Download Report\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"\\u064CRespond 02\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                children: \"Download Report\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: \"\\u064CRespond 03\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                children: \"Download Report\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: requestModal,\n        onRequestClose: () => setrequestModal(false),\n        style: {\n          overlay: {\n            backgroundColor: 'ActiveCaption'\n          },\n          content: {\n            color: 'MenuText',\n            width: '50%',\n            height: '50%',\n            top: '50%',\n            left: '50%',\n            right: 'auto',\n            bottom: 'auto',\n            marginRight: '-50%',\n            transform: 'translate(-50%, -50%)'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-6 offset-sm-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Make a Request\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: reportType,\n            onChange: e => setreportType(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a Built in Report\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cash\",\n              children: \"Cash Report\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"balancesheet\",\n              children: \"Balance Sheet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cashflow\",\n              children: \"Cash Flow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Topic\",\n            onChange: e => setTtopic(e.target.value),\n            value: topic\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 149\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: urgency,\n            onChange: e => seturgency(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Urgency\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"urgent\",\n              children: \"Urgent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"notUrgent\",\n              children: \"Not Urgent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: description,\n            onChange: e => setDescription(e.target.value),\n            placeholder: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 132\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeAndUpdateRequest,\n            className: \"btn btn-primary\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Requests, \"aJDQ8NimaBeMY1swS2FA0GpTlPk=\", false, function () {\n  return [useHistory];\n});\n\n_c = Requests;\n\nvar _c;\n\n$RefreshReg$(_c, \"Requests\");","map":{"version":3,"sources":["D:/MyStuff/George Brown/Year 3/2 Semester/CAPSTONE PROJECT 02/Github/CapStone-FA/FrontEnd/src/components/Dashboards/Detailed/User/Requests.js"],"names":["React","useState","useEffect","Modal","useHistory","axios","Requests","history","serverFname","setserverFname","serverLname","setserverLname","serverPhone","setserverPhone","serverEmail","setserverEmail","serverPassword","setserverPassword","pageRefresh","setpageRefresh","requests","setrequests","requestModal","setrequestModal","errorMessage","seterrorMessage","reportType","setreportType","topic","setTtopic","urgency","seturgency","description","setDescription","user","localStorage","getItem","post","then","res","userData","data","first_name","last_name","phone","email","password","cardData","console","log","setuserCards","closeAndUpdateRequest","request","user_name","openAndUpdateRequest","overlay","backgroundColor","content","color","width","height","top","left","right","bottom","marginRight","transform","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport \"../User/UserStyles.css\"\r\n//Modal\r\nimport Modal from \"react-modal\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\n\r\n\r\n\r\n\r\nexport default function Requests() {\r\n    const history = useHistory()\r\n    const [serverFname, setserverFname] = useState(\"\")\r\n    const [serverLname, setserverLname] = useState(\"\")\r\n    const [serverPhone, setserverPhone] = useState(\"\")\r\n    const [serverEmail, setserverEmail] = useState(\"\")\r\n    const [serverPassword, setserverPassword] = useState(\"\")\r\n\r\n    const [pageRefresh, setpageRefresh] = useState(0)\r\nconst [requests, setrequests] = useState([])    \r\n    \r\n    const [requestModal, setrequestModal] = useState(false)\r\n    const [errorMessage, seterrorMessage] = useState(\"\")\r\n\r\n    const [reportType, setreportType] = useState(\"\")\r\n    const [topic, setTtopic] = useState(\"\")\r\n    const [urgency, seturgency] = useState(\"\")\r\n    const [description, setDescription] = useState(\"\")\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const user = {\r\n            \"email\": localStorage.getItem(\"user\"),\r\n        }\r\n        axios.post(\"http://localhost:8080/users/getuser\", user)\r\n            .then(res => {\r\n                const userData = res.data[0]\r\n                setserverFname(userData.first_name)\r\n                setserverLname(userData.last_name)\r\n                setserverPhone(userData.phone)\r\n                setserverEmail(userData.email)\r\n                setserverPassword(userData.password)\r\n\r\n            })\r\n    }, [serverFname, serverLname, serverPhone, serverEmail, serverPassword])\r\n\r\n    //load requests\r\n    useEffect(() => {\r\n        const user = {\r\n            email: serverEmail,\r\n        }\r\n        axios.post(\"http://localhost:8080/userrequests\", user)\r\n            .then(res => {\r\n                const cardData = res.data\r\n                console.log(cardData)\r\n                setuserCards([...cardData])\r\n            })\r\n\r\n    }, [pageRefresh])\r\n\r\n\r\n    //handle modal request\r\n    function closeAndUpdateRequest() {\r\n        //do updates  here  \r\n        const request = {\r\n            reportType: reportType,\r\n            topic: topic,\r\n            urgency: urgency,\r\n            description: description,\r\n            email: serverEmail,\r\n            user_name: `${serverFname} ${serverLname}`\r\n        }\r\n        if (topic === \"\" || description === \"\") {\r\n            seterrorMessage(`Please fill topic and description`)\r\n        } else {\r\n\r\n            axios.post('http://localhost:8080/userrequest', request)\r\n                .then(res => {\r\n                    // const requestData = res.data.errors\r\n\r\n                    // console.log(res.data)\r\n                    // console.log(requestData)\r\n                })\r\n\r\n            setreportType(\"\")\r\n            setTtopic(\"\")\r\n            seturgency(\"\")\r\n            setDescription(\"\")\r\n            setrequestModal(false)\r\n        }\r\n\r\n    }\r\n    function openAndUpdateRequest() {\r\n\r\n        setrequestModal(true)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"profile\">\r\n                <h1>Hello from Requests</h1>\r\n                <div className=\"myDiv\">\r\n                    <br />\r\n                    <br />\r\n                    <h1>Requests Here</h1>\r\n                    <table id=\"customers\">\r\n                        <tr>\r\n                            <td>Request 01</td>\r\n                        </tr>\r\n\r\n                        <tr>\r\n                            <td>Request 02</td>\r\n                        </tr>\r\n\r\n                        <tr>\r\n                            <td>Request 03</td>\r\n                        </tr>\r\n\r\n                    </table>\r\n                    <br />\r\n                    <br />\r\n                    <button className=\"btn btn-primary\" onClick={openAndUpdateRequest}>Make a Request</button>\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n                <br />\r\n                <div className=\"myDiv\">\r\n                    <br />\r\n                    <br />\r\n                    <h1>Responds Here</h1>\r\n\r\n                    <br />\r\n                    <br />\r\n                    <table id=\"customers\">\r\n                        <tr>\r\n                            <td>ٌRespond 01</td>\r\n                            <td><button className=\"btn btn-primary\">Download Report</button></td>\r\n                        </tr>\r\n\r\n                        <tr>\r\n                            <td>ٌRespond 02</td>\r\n                            <td><button className=\"btn btn-primary\">Download Report</button></td>\r\n                        </tr>\r\n\r\n                        <tr>\r\n                            <td>ٌRespond 03</td>\r\n                            <td><button className=\"btn btn-primary\">Download Report</button></td>\r\n                        </tr>\r\n\r\n                    </table>\r\n\r\n                </div>\r\n            </div>\r\n            <div>\r\n\r\n                <Modal\r\n                    isOpen={requestModal}\r\n                    onRequestClose={() => setrequestModal(false)}\r\n                    style={\r\n                        {\r\n                            overlay: {\r\n                                backgroundColor: 'ActiveCaption',\r\n                            },\r\n                            content: {\r\n                                color: 'MenuText',\r\n                                width: '50%',\r\n                                height: '50%',\r\n                                top: '50%',\r\n                                left: '50%',\r\n                                right: 'auto',\r\n                                bottom: 'auto',\r\n                                marginRight: '-50%',\r\n                                transform: 'translate(-50%, -50%)'\r\n                            },\r\n                        }\r\n                    }\r\n                >\r\n\r\n                    <div className=\"col-sm-6 offset-sm-3\">\r\n                        <h1>Make a Request</h1>\r\n                        <select\r\n                            value={reportType}\r\n                            onChange={e => setreportType(e.target.value)}\r\n                        >\r\n                            <option value=\"\">Select a Built in Report</option>\r\n                            <option value=\"cash\">Cash Report</option>\r\n                            <option value=\"balancesheet\">Balance Sheet</option>\r\n                            <option value=\"cashflow\">Cash Flow</option>\r\n                        </select>\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Topic\" onChange={(e) => setTtopic(e.target.value)} value={topic} /><br />\r\n                        <select\r\n                            value={urgency}\r\n                            onChange={e => seturgency(e.target.value)}\r\n                        >\r\n                            <option value=\"\">Urgency</option>\r\n                            <option value=\"urgent\">Urgent</option>\r\n                            <option value=\"notUrgent\">Not Urgent</option>\r\n                        </select>\r\n                        <textarea value={description} onChange={(e) => setDescription(e.target.value)} placeholder=\"Description\" /><br />\r\n                        <button onClick={closeAndUpdateRequest} className=\"btn btn-primary\">Send</button>\r\n                    </div>\r\n                    <br />\r\n                    <br />\r\n                    <div>\r\n                        {errorMessage}\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n\r\n\r\n            <br />\r\n            <br />\r\n            <br />\r\n        </div>\r\n    )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}