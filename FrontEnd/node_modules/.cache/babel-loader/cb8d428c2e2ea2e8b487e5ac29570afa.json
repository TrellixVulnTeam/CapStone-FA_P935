{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyStuff\\\\George Brown\\\\Year 3\\\\2 Semester\\\\CAPSTONE PROJECT 02\\\\Github\\\\CapStone-FA\\\\FrontEnd\\\\src\\\\components\\\\Dashboards\\\\Detailed\\\\User\\\\Requests.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport \"../User/UserStyles.css\"; //Modal\n\nimport Modal from \"react-modal\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport moment from 'moment';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Requests() {\n  _s();\n\n  const history = useHistory();\n  const [serverFname, setserverFname] = useState(\"\");\n  const [serverLname, setserverLname] = useState(\"\");\n  const [serverPhone, setserverPhone] = useState(\"\");\n  const [serverEmail, setserverEmail] = useState(\"\");\n  const [serverPassword, setserverPassword] = useState(\"\");\n  const [pageRefresh, setpageRefresh] = useState(0);\n  const [requests, setrequests] = useState([]);\n  const [toUserRequests, settoUserRequests] = useState([]);\n  const [requestModal, setrequestModal] = useState(false);\n  const [errorMessage, seterrorMessage] = useState(\"\");\n  const [reportType, setreportType] = useState(\"\");\n  const [topic, setTtopic] = useState(\"\");\n  const [urgency, seturgency] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  useEffect(() => {\n    const user = {\n      \"email\": localStorage.getItem(\"user\")\n    };\n    axios.post(\"http://localhost:8080/users/getuser\", user).then(res => {\n      const userData = res.data[0];\n      setserverFname(userData.first_name);\n      setserverLname(userData.last_name);\n      setserverPhone(userData.phone);\n      setserverEmail(userData.email);\n      setserverPassword(userData.password);\n    });\n  }, [serverFname, serverLname, serverPhone, serverEmail, serverPassword]); //load requests\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const user = {\n        email: localStorage.getItem(\"user\")\n      };\n      axios.post(\"http://localhost:8080/userrequests\", user).then(res => {\n        const requestData = res.data;\n        setrequests([...requestData]);\n      }); // axios.post('http://localhost:8080/findrequestsdone', \"\")\n\n      axios.post('http://localhost:8080/finduserrequestsdone', user).then(res => {\n        const data = res.data;\n        settoUserRequests([...data]); // console.log(toUserRequests)\n      });\n    }, 1000);\n    return () => clearInterval(interval); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [pageRefresh]); //handle modal request\n\n  function closeAndUpdateRequest(e) {\n    e.preventDefault(); //do updates  here  \n\n    const request = {\n      reporttype: reportType,\n      topic: topic,\n      urgency: urgency,\n      description: description,\n      email: serverEmail,\n      user_name: `${serverFname} ${serverLname}`\n    };\n\n    if (topic === \"\" || description === \"\") {\n      seterrorMessage(`Please fill topic and description`);\n    } else {\n      axios.post('http://localhost:8080/userrequest', request).then(res => {\n        // const requestData = res.data.errors\n        // console.log(res.data)\n        // console.log(requestData)\n        setreportType(\"\");\n        setTtopic(\"\");\n        seturgency(\"\");\n        setDescription(\"\");\n        setrequestModal(false);\n        setpageRefresh(pageRefresh + 1);\n      });\n    }\n  }\n\n  function openAndUpdateRequest() {\n    setrequestModal(true);\n  }\n\n  function displayRequests() {\n    if (requests.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No Requests Made\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 20\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Scroll_Pane\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          id: \"customers\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Report Type\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Topic\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Urgency\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Description\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Date\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 116,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: requests.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.reporttype\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.topic\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.urgency\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 45\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: moment(item.created).format(\"LLL\")\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 45\n              }, this)]\n            }, item._id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 41\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this);\n    }\n  }\n  /*\r\n  consultant: \"603a72704ac2f68378f66c3b\"\r\n  created: \"2021-03-26T11:28:42.668Z\"\r\n  email: \"jane@doe.ca\"\r\n  filetoDownload: \"Jane Doe_jane@doe.ca_605d30523ef05e8390cbc4b6_Balance_Sheet.xlsx\"\r\n  topic: \"2020 cash\"\r\n  user: \"Jane Doe\"\r\n  __v: 0\r\n  _id: \"605dc56a48e50bc51c1a2d0e\"\r\n  */\n\n\n  function downloadCompletedReport(value) {\n    const reportToDownload = {\n      file: value\n    };\n    console.log(reportToDownload);\n    axios.post(\"http://localhost:8080/userreporttodownload\", reportToDownload).then(res => {\n      console.log(res);\n    });\n  }\n\n  function viewCompletedReports() {\n    if (toUserRequests.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No Requests Completed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"table\", {\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Topic\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 173,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Date\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 174,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Download\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), toUserRequests.map(data => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: data.topic\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: moment(data.created).format(\"LLL\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: () => downloadCompletedReport(data.filetoDownload),\n                children: \"Download Report\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 182,\n              columnNumber: 37\n            }, this)]\n          }, data._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 33\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"myDiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Requests Here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: displayRequests()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: openAndUpdateRequest,\n          children: \"Make a Request\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"myDiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Responds Here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 21\n        }, this), viewCompletedReports(), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: requestModal,\n        onRequestClose: () => setrequestModal(false),\n        style: {\n          overlay: {\n            backgroundColor: 'ActiveCaption'\n          },\n          content: {\n            color: 'MenuText',\n            width: '50%',\n            height: '50%',\n            top: '50%',\n            left: '50%',\n            right: 'auto',\n            bottom: 'auto',\n            marginRight: '-50%',\n            transform: 'translate(-50%, -50%)'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-6 offset-sm-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Make a Request\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: reportType,\n            onChange: e => setreportType(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select a Built in Report\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cash\",\n              children: \"Cash Report\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"balancesheet\",\n              children: \"Balance Sheet\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"cashflow\",\n              children: \"Cash Flow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: \"Topic\",\n            onChange: e => setTtopic(e.target.value),\n            value: topic\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 149\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: urgency,\n            onChange: e => seturgency(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Urgency\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"urgent\",\n              children: \"Urgent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"notUrgent\",\n              children: \"Not Urgent\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: description,\n            onChange: e => setDescription(e.target.value),\n            placeholder: \"Description\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 132\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeAndUpdateRequest,\n            className: \"btn btn-primary\",\n            children: \"Send\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 267,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: errorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 275,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 195,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Requests, \"uld/MpYRqo+5YOvstn25d4PjfcU=\", false, function () {\n  return [useHistory];\n});\n\n_c = Requests;\n\nvar _c;\n\n$RefreshReg$(_c, \"Requests\");","map":{"version":3,"sources":["D:/MyStuff/George Brown/Year 3/2 Semester/CAPSTONE PROJECT 02/Github/CapStone-FA/FrontEnd/src/components/Dashboards/Detailed/User/Requests.js"],"names":["React","useState","useEffect","Modal","useHistory","axios","moment","Requests","history","serverFname","setserverFname","serverLname","setserverLname","serverPhone","setserverPhone","serverEmail","setserverEmail","serverPassword","setserverPassword","pageRefresh","setpageRefresh","requests","setrequests","toUserRequests","settoUserRequests","requestModal","setrequestModal","errorMessage","seterrorMessage","reportType","setreportType","topic","setTtopic","urgency","seturgency","description","setDescription","user","localStorage","getItem","post","then","res","userData","data","first_name","last_name","phone","email","password","interval","setInterval","requestData","clearInterval","closeAndUpdateRequest","e","preventDefault","request","reporttype","user_name","openAndUpdateRequest","displayRequests","length","map","item","created","format","_id","downloadCompletedReport","value","reportToDownload","file","console","log","viewCompletedReports","filetoDownload","overlay","backgroundColor","content","color","width","height","top","left","right","bottom","marginRight","transform","target"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport \"../User/UserStyles.css\"\r\n//Modal\r\nimport Modal from \"react-modal\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport moment from 'moment'\r\n\r\n\r\n\r\nexport default function Requests() {\r\n    const history = useHistory()\r\n    const [serverFname, setserverFname] = useState(\"\")\r\n    const [serverLname, setserverLname] = useState(\"\")\r\n    const [serverPhone, setserverPhone] = useState(\"\")\r\n    const [serverEmail, setserverEmail] = useState(\"\")\r\n    const [serverPassword, setserverPassword] = useState(\"\")\r\n\r\n    const [pageRefresh, setpageRefresh] = useState(0)\r\n    const [requests, setrequests] = useState([])\r\n    const [toUserRequests, settoUserRequests] = useState([])\r\n    const [requestModal, setrequestModal] = useState(false)\r\n    const [errorMessage, seterrorMessage] = useState(\"\")\r\n\r\n    const [reportType, setreportType] = useState(\"\")\r\n    const [topic, setTtopic] = useState(\"\")\r\n    const [urgency, seturgency] = useState(\"\")\r\n    const [description, setDescription] = useState(\"\")\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const user = {\r\n            \"email\": localStorage.getItem(\"user\"),\r\n        }\r\n        axios.post(\"http://localhost:8080/users/getuser\", user)\r\n            .then(res => {\r\n                const userData = res.data[0]\r\n                setserverFname(userData.first_name)\r\n                setserverLname(userData.last_name)\r\n                setserverPhone(userData.phone)\r\n                setserverEmail(userData.email)\r\n                setserverPassword(userData.password)\r\n\r\n            })\r\n    }, [serverFname, serverLname, serverPhone, serverEmail, serverPassword])\r\n\r\n    //load requests\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            const user = {\r\n                email: localStorage.getItem(\"user\"),\r\n            }\r\n            axios.post(\"http://localhost:8080/userrequests\", user)\r\n                .then(res => {\r\n                    const requestData = res.data\r\n                    setrequests([...requestData])\r\n                })\r\n            // axios.post('http://localhost:8080/findrequestsdone', \"\")\r\n            axios.post('http://localhost:8080/finduserrequestsdone', user)\r\n                .then(res => {\r\n                    const data = res.data\r\n                    settoUserRequests([...data])\r\n                    // console.log(toUserRequests)\r\n                })\r\n\r\n\r\n        }, 1000);\r\n        return () => clearInterval(interval);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [pageRefresh])\r\n\r\n\r\n    //handle modal request\r\n    function closeAndUpdateRequest(e) {\r\n        e.preventDefault()\r\n        //do updates  here  \r\n        const request = {\r\n            reporttype: reportType,\r\n            topic: topic,\r\n            urgency: urgency,\r\n            description: description,\r\n            email: serverEmail,\r\n            user_name: `${serverFname} ${serverLname}`\r\n        }\r\n        if (topic === \"\" || description === \"\") {\r\n            seterrorMessage(`Please fill topic and description`)\r\n        } else {\r\n            axios.post('http://localhost:8080/userrequest', request)\r\n                .then(res => {\r\n                    // const requestData = res.data.errors\r\n                    // console.log(res.data)\r\n                    // console.log(requestData)\r\n                    setreportType(\"\")\r\n                    setTtopic(\"\")\r\n                    seturgency(\"\")\r\n                    setDescription(\"\")\r\n                    setrequestModal(false)\r\n                    setpageRefresh(pageRefresh + 1)\r\n                })\r\n        }\r\n    }\r\n\r\n    function openAndUpdateRequest() {\r\n        setrequestModal(true)\r\n    }\r\n\r\n    function displayRequests() {\r\n        if (requests.length === 0) {\r\n            return <h1>No Requests Made</h1>\r\n        } else {\r\n            return (\r\n                <div className=\"Scroll_Pane\">\r\n                    <table id=\"customers\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Report Type</th>\r\n                                <th>Topic</th>\r\n                                <th>Urgency</th>\r\n                                <th>Description</th>\r\n                                <th>Date</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {\r\n                                requests.map(\r\n                                    item =>\r\n                                        <tr key={item._id}>\r\n                                            <td>{item.reporttype}</td>\r\n                                            <td>{item.topic}</td>\r\n                                            <td>{item.urgency}</td>\r\n                                            <td>{item.description}</td>\r\n                                            <td>{moment(item.created).format(\"LLL\")}</td>\r\n                                        </tr>\r\n                                )\r\n                            }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    /*\r\n    consultant: \"603a72704ac2f68378f66c3b\"\r\n    created: \"2021-03-26T11:28:42.668Z\"\r\n    email: \"jane@doe.ca\"\r\n    filetoDownload: \"Jane Doe_jane@doe.ca_605d30523ef05e8390cbc4b6_Balance_Sheet.xlsx\"\r\n    topic: \"2020 cash\"\r\n    user: \"Jane Doe\"\r\n    __v: 0\r\n    _id: \"605dc56a48e50bc51c1a2d0e\"\r\n    */\r\n    function downloadCompletedReport(value) {\r\n        const reportToDownload = {\r\n            file:value\r\n        }\r\n        console.log(reportToDownload)\r\n        axios.post(\"http://localhost:8080/userreporttodownload\", reportToDownload)\r\n            .then(res => {\r\n                console.log(res)\r\n            })\r\n    }\r\n    function viewCompletedReports() {\r\n        if (toUserRequests.length === 0) {\r\n            return (\r\n                <h1>No Requests Completed</h1>\r\n            )\r\n        } else {\r\n            return (\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th>Topic</th>\r\n                            <th>Date</th>\r\n                            <th>Download</th>\r\n                        </tr>\r\n                        {\r\n                            toUserRequests.map(data =>\r\n                                <tr key={data._id}>\r\n                                    <td>{data.topic}</td>\r\n                                    <td>{moment(data.created).format(\"LLL\")}</td>\r\n                                    <td><button className=\"btn btn-primary\" onClick={() => downloadCompletedReport(data.filetoDownload)}>Download Report</button></td>\r\n                                </tr>\r\n                            )\r\n                        }\r\n\r\n                    </tbody>\r\n                </table>\r\n            )\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"profile\">\r\n                <div className=\"myDiv\">\r\n                    <br />\r\n                    <br />\r\n                    <h1>Requests Here</h1>\r\n                    <div>{displayRequests()}</div>\r\n                    <br />\r\n                    <br />\r\n                    <button className=\"btn btn-primary\" onClick={openAndUpdateRequest}>Make a Request</button>\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n                <br />\r\n                <div className=\"myDiv\">\r\n                    <br />\r\n                    <br />\r\n                    <h1>Responds Here</h1>\r\n                    {viewCompletedReports()}\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n            </div>\r\n            <div>\r\n\r\n                <Modal\r\n                    isOpen={requestModal}\r\n                    onRequestClose={() => setrequestModal(false)}\r\n                    style={\r\n                        {\r\n                            overlay: {\r\n                                backgroundColor: 'ActiveCaption',\r\n                            },\r\n                            content: {\r\n                                color: 'MenuText',\r\n                                width: '50%',\r\n                                height: '50%',\r\n                                top: '50%',\r\n                                left: '50%',\r\n                                right: 'auto',\r\n                                bottom: 'auto',\r\n                                marginRight: '-50%',\r\n                                transform: 'translate(-50%, -50%)'\r\n                            },\r\n                        }\r\n                    }\r\n                >\r\n\r\n                    <div className=\"col-sm-6 offset-sm-3\">\r\n                        <h1>Make a Request</h1>\r\n                        <select\r\n                            value={reportType}\r\n                            onChange={e => setreportType(e.target.value)}\r\n                        >\r\n                            <option value=\"\">Select a Built in Report</option>\r\n                            <option value=\"cash\">Cash Report</option>\r\n                            <option value=\"balancesheet\">Balance Sheet</option>\r\n                            <option value=\"cashflow\">Cash Flow</option>\r\n                        </select>\r\n                        <input type=\"text\" className=\"form-control\" placeholder=\"Topic\" onChange={(e) => setTtopic(e.target.value)} value={topic} /><br />\r\n                        <select\r\n                            value={urgency}\r\n                            onChange={e => seturgency(e.target.value)}\r\n                        >\r\n                            <option value=\"\">Urgency</option>\r\n                            <option value=\"urgent\">Urgent</option>\r\n                            <option value=\"notUrgent\">Not Urgent</option>\r\n                        </select>\r\n                        <textarea value={description} onChange={(e) => setDescription(e.target.value)} placeholder=\"Description\" /><br />\r\n                        <button onClick={closeAndUpdateRequest} className=\"btn btn-primary\">Send</button>\r\n                    </div>\r\n                    <br />\r\n                    <br />\r\n                    <div>\r\n                        {errorMessage}\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n\r\n\r\n            <br />\r\n            <br />\r\n            <br />\r\n        </div>\r\n    )\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}