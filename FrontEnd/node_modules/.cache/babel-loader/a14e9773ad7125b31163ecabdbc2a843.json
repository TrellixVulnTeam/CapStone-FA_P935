{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyStuff\\\\George Brown\\\\Year 3\\\\2 Semester\\\\CAPSTONE PROJECT 02\\\\Github\\\\CapStone-FA\\\\FrontEnd\\\\src\\\\components\\\\Dashboards\\\\Detailed\\\\User\\\\Profile.js\",\n    _s = $RefreshSig$();\n\n/* eslint-disable no-unused-expressions */\n\n/* eslint-disable react-hooks/exhaustive-deps */\nimport React, { useState, useEffect } from 'react';\nimport \"../User/UserStyles.css\"; //Modal\n\nimport Modal from \"react-modal\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport SecureLS from \"secure-ls\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Profile() {\n  _s();\n\n  const securestorage = new SecureLS();\n  const history = useHistory();\n  const [pageRefresh, setpageRefresh] = useState(0); //user information\n\n  const [serverFname, setserverFname] = useState(\"\");\n  const [serverLname, setserverLname] = useState(\"\");\n  const [serverPhone, setserverPhone] = useState(\"\");\n  const [serverEmail, setserverEmail] = useState(\"\");\n  const [serverPassword, setserverPassword] = useState(\"\"); //card information\n\n  const [userCards, setuserCards] = useState([]); //catch userdata from the server\n\n  useEffect(() => {\n    const user = {\n      \"email\": securestorage.get(\"user\")\n    };\n    axios.post(\"http://localhost:8080/users/getuser\", user).then(res => {\n      const userData = res.data[0];\n      setserverFname(userData.first_name);\n      setserverLname(userData.last_name);\n      setserverPhone(userData.phone);\n      setserverEmail(userData.email);\n      setserverPassword(userData.password);\n    });\n  }, [serverFname, serverLname, serverPhone, serverEmail, serverPassword]); //catch user cards\n\n  useEffect(() => {\n    const user = {\n      \"email\": securestorage.get(\"user\")\n    };\n    axios.post(\"http://localhost:8080/cards\", user).then(res => {\n      const cardData = res.data;\n      console.log(cardData);\n      setuserCards([...cardData]);\n    });\n  }, [pageRefresh]);\n\n  function handleCardTablesetActive(cardId) {\n    const cardToUpdate = {\n      _id: cardId._id,\n      cardstatus: \"Active\",\n      card_holder: cardId.card_holder,\n      cardnumber: cardId.cardnumber,\n      cardexpiryMonth: cardId.cardexpiryMonth,\n      cardexpiryYear: cardId.cardexpiryYear,\n      cardsec: cardId.cardsec,\n      email: cardId.email\n    };\n    axios.post('http://localhost:8080/card/update', cardToUpdate).then(res => {\n      console.log(res); // history.push('/dashboardUser')\n      // window.location.reload(false);\n\n      setpageRefresh(pageRefresh + 1);\n    });\n  }\n\n  function handleCardTablesetDelete(cardId) {\n    console.log(cardId._id);\n    const cardToDelete = {\n      _id: cardId._id\n    };\n    axios.post('http://localhost:8080/card/delete', cardToDelete).then(res => {\n      // console.log(res)\n      // history.push('/dashboardUser')\n      // window.location.reload(false);\n      setpageRefresh(pageRefresh + 1);\n    });\n  }\n\n  function displayCards() {\n    /*----------------------------------*/\n\n    /*----------------------------------*/\n    if (userCards.length === 0) {\n      return /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"No cards to show\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"table\", {\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Card Holder\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Expiry Month\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Expiry Year\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Card Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Security Code\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Card Status\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Set Active\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 25\n          }, this), userCards.map(item => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.card_holder\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.cardexpiryMonth\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.cardexpiryYear\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.cardnumber\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.cardsec\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 121,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: item.cardstatus\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: () => handleCardTablesetActive(item),\n                children: \"Set Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 41\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: () => handleCardTablesetDelete(item),\n                children: \"delete\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 45\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 41\n            }, this)]\n          }, item._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 37\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 17\n      }, this);\n    }\n  } //use states:\n\n\n  const [fname, setFname] = useState(\"\");\n  const [lname, setLname] = useState(\"\");\n  const [phone, setPhone] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [repassword, setRepassword] = useState(\"\"); //card use state\n\n  const [cardHolderName, setCardHolderName] = useState(\"\");\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [cardExpMonth, setCardExpMonth] = useState(\"\");\n  const [cardExpYear, setCardExpYear] = useState(\"\");\n  const [cardSecCode, setcardSecCode] = useState(\"\"); //update profile MOdal\n\n  const [profilemodal, setProfilemodal] = useState(false);\n  const [addcardmodal, setAddcardmodal] = useState(false); //modal Errors\n\n  const [updateProfileModalError, setupdateProfileModalError] = useState(\"\");\n  const [cardModalError, setcardModalError] = useState(\"\"); //Modal functionality\n  //Profile Modal\n\n  const closeAndUpdateProfile = e => {\n    //do update changes  !!! \n    e.preventDefault();\n    const userToUpdate = {\n      \"first_name\": fname,\n      \"last_name\": lname,\n      \"phone\": phone,\n      \"email\": email,\n      \"password\": password,\n      \"authlevel\": \"user\"\n    };\n    const currentEmail = serverEmail;\n\n    if (fname === \"\" || lname === \"\" || phone === \"\" || email === \"\" || password === \"\" || repassword === \"\") {\n      setupdateProfileModalError(\"Please Fill all fields\");\n    } else {\n      if (password === repassword) {\n        //do update here\n        axios.post(\"http://localhost:8080/users/update\", [userToUpdate, currentEmail]).then(res => {\n          const userData = res.data;\n          console.log(userData);\n          let errors = res.data.errors;\n          let errorReport = [];\n\n          for (const property in errors) {\n            console.log(`${property}: ${errors[property].message}`);\n            errorReport.push(`${property}: ${errors[property].message}`);\n          }\n\n          setupdateProfileModalError(errorReport);\n\n          if (errorReport.length === 0) {\n            //history.push('/')\n            setProfilemodal(false);\n            localStorage.clear();\n            history.push('/');\n          }\n        });\n      } else {\n        setupdateProfileModalError(\"Password does not match\");\n      }\n    }\n  };\n\n  function openToUpdateProfile() {\n    //catch user information and put them in the place holder !!!\n    //make re-password place holder empty\n    setProfilemodal(true);\n  } //card modal\n\n\n  const closeAddCard = e => {\n    //do update changes\n    e.preventDefault();\n    const card = {\n      cardstatus: \"InActive\",\n      card_holder: cardHolderName,\n      cardnumber: cardNumber,\n      cardexpiryMonth: cardExpMonth,\n      cardexpiryYear: cardExpYear,\n      cardsec: cardSecCode,\n      email: serverEmail // holder_email: localStorage.getItem(\"user\")\n      // email: \"mikeadams@fadvishor.ca\"\n\n    };\n\n    if (cardHolderName === \"\" || cardNumber === \"\" || cardExpMonth === \"\" || cardExpYear === \"\" || cardSecCode === \"\") {\n      setcardModalError(\"Please Fill all Fields\");\n    } else {\n      axios.post('http://localhost:8080/card', card).then(res => {\n        console.log(res);\n        let errors = res.data.errors;\n        let errorReport = [];\n        console.log(`errors are here ${errors}`);\n\n        for (const property in errors) {\n          console.log(`${property}: ${errors[property].message}`);\n          errorReport.push(`${property}: ${errors[property].message}`);\n        }\n\n        setcardModalError(errorReport);\n\n        if (errorReport.length === 0) {\n          console.log(cardModalError);\n          setCardHolderName(\"\");\n          setCardNumber(\"\");\n          setCardExpMonth(\"\");\n          setCardExpYear(\"\");\n          setcardSecCode(\"\");\n          setAddcardmodal(false);\n          setpageRefresh(pageRefresh + 1);\n        } else {\n          setcardModalError(\"something went wrong\");\n        }\n      }).catch(err => console.log(err));\n    }\n  };\n\n  function openAddCard() {\n    //catch user card information and put them in place holder and hide security number\n    setAddcardmodal(true);\n  }\n\n  function renderPassword(word) {\n    let newword = \"\";\n\n    for (let i = 0; i <= word.length; i++) {\n      if (i <= 2) {\n        newword = newword + `${word[i]}`;\n      } else {\n        newword = newword + '*';\n      }\n    }\n\n    return newword;\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"myDiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n          style: {\n            width: \"25%\",\n            margin: \"auto\",\n            fontSize: \"25px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"First Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 291,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: serverFname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Last Name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: serverLname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: serverPhone\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Email\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: serverEmail\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: renderPassword(serverPassword)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: openToUpdateProfile,\n          children: \"Edit Profile\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"myDiv\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Cards\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: displayCards()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: openAddCard,\n          children: \"Add Card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: profilemodal,\n        onRequestClose: () => setProfilemodal(false),\n        style: {\n          overlay: {\n            backgroundColor: 'ActiveCaption'\n          },\n          content: {\n            color: 'MenuText',\n            width: '50%',\n            height: '50%',\n            top: '50%',\n            left: '50%',\n            right: 'auto',\n            bottom: 'auto',\n            marginRight: '-50%',\n            transform: 'translate(-50%, -50%)'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-6 offset-sm-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Update Profile\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: serverFname,\n            onChange: e => setFname(e.target.value),\n            value: fname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 154\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: serverLname,\n            onChange: e => setLname(e.target.value),\n            value: lname\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 154\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: serverPhone,\n            onChange: e => setPhone(e.target.value),\n            value: phone\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 154\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            placeholder: serverEmail,\n            onChange: e => setEmail(e.target.value),\n            value: email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 154\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            placeholder: renderPasswordserverPassword,\n            onChange: e => setPassword(e.target.value),\n            value: password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 181\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"form-control\",\n            placeholder: \"Re-Password\",\n            onChange: e => setRepassword(e.target.value),\n            value: repassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 168\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: closeAndUpdateProfile,\n            className: \"btn btn-primary\",\n            children: \"Update\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 374,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: updateProfileModalError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        isOpen: addcardmodal,\n        onRequestClose: () => setAddcardmodal(false),\n        style: {\n          overlay: {\n            backgroundColor: 'ActiveCaption'\n          },\n          content: {\n            color: 'MenuText',\n            width: '50%',\n            height: '50%',\n            top: '50%',\n            left: '50%',\n            right: 'auto',\n            bottom: 'auto',\n            marginRight: '-50%',\n            transform: 'translate(-50%, -50%)'\n          }\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Update Card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Holder Name\",\n          onChange: e => setCardHolderName(e.target.value),\n          value: cardHolderName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 168\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Card Number\",\n          onChange: e => setCardNumber(e.target.value),\n          value: cardNumber\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 160\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          min: \"1\",\n          max: \"12\",\n          className: \"form-control\",\n          placeholder: \"Expiary Month\",\n          onChange: e => setCardExpMonth(e.target.value),\n          value: cardExpMonth\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 183\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Expiary Year\",\n          onChange: e => setCardExpYear(e.target.value),\n          value: cardExpYear\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 163\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          placeholder: \"Secret Code\",\n          onChange: e => setcardSecCode(e.target.value),\n          value: cardSecCode\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 166\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closeAddCard,\n          className: \"btn btn-primary\",\n          children: \"Add Card\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 412,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: cardModalError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 413,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Profile, \"TVu+Vx66FQovHM3hkVHPBthhe6Y=\", false, function () {\n  return [useHistory];\n});\n\n_c = Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["D:/MyStuff/George Brown/Year 3/2 Semester/CAPSTONE PROJECT 02/Github/CapStone-FA/FrontEnd/src/components/Dashboards/Detailed/User/Profile.js"],"names":["React","useState","useEffect","Modal","useHistory","axios","SecureLS","Profile","securestorage","history","pageRefresh","setpageRefresh","serverFname","setserverFname","serverLname","setserverLname","serverPhone","setserverPhone","serverEmail","setserverEmail","serverPassword","setserverPassword","userCards","setuserCards","user","get","post","then","res","userData","data","first_name","last_name","phone","email","password","cardData","console","log","handleCardTablesetActive","cardId","cardToUpdate","_id","cardstatus","card_holder","cardnumber","cardexpiryMonth","cardexpiryYear","cardsec","handleCardTablesetDelete","cardToDelete","displayCards","length","map","item","fname","setFname","lname","setLname","setPhone","setEmail","setPassword","repassword","setRepassword","cardHolderName","setCardHolderName","cardNumber","setCardNumber","cardExpMonth","setCardExpMonth","cardExpYear","setCardExpYear","cardSecCode","setcardSecCode","profilemodal","setProfilemodal","addcardmodal","setAddcardmodal","updateProfileModalError","setupdateProfileModalError","cardModalError","setcardModalError","closeAndUpdateProfile","e","preventDefault","userToUpdate","currentEmail","errors","errorReport","property","message","push","localStorage","clear","openToUpdateProfile","closeAddCard","card","catch","err","openAddCard","renderPassword","word","newword","i","width","margin","fontSize","overlay","backgroundColor","content","color","height","top","left","right","bottom","marginRight","transform","target","value","renderPasswordserverPassword"],"mappings":"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","sourcesContent":["/* eslint-disable no-unused-expressions */\r\n/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react'\r\nimport \"../User/UserStyles.css\"\r\n//Modal\r\nimport Modal from \"react-modal\"\r\nimport { useHistory } from \"react-router-dom\"\r\nimport axios from \"axios\"\r\nimport SecureLS from \"secure-ls\"\r\n\r\nexport default function Profile() {\r\n    const securestorage = new SecureLS();\r\n    const history = useHistory()\r\n    const [pageRefresh, setpageRefresh] = useState(0)\r\n\r\n    //user information\r\n    const [serverFname, setserverFname] = useState(\"\")\r\n    const [serverLname, setserverLname] = useState(\"\")\r\n    const [serverPhone, setserverPhone] = useState(\"\")\r\n    const [serverEmail, setserverEmail] = useState(\"\")\r\n    const [serverPassword, setserverPassword] = useState(\"\")\r\n\r\n    //card information\r\n    const [userCards, setuserCards] = useState([])\r\n    //catch userdata from the server\r\n    useEffect(() => {\r\n        const user = {\r\n            \"email\": securestorage.get(\"user\"),\r\n        }\r\n        axios.post(\"http://localhost:8080/users/getuser\", user)\r\n            .then(res => {\r\n                const userData = res.data[0]\r\n                setserverFname(userData.first_name)\r\n                setserverLname(userData.last_name)\r\n                setserverPhone(userData.phone)\r\n                setserverEmail(userData.email)\r\n                setserverPassword(userData.password)\r\n\r\n            })\r\n    }, [serverFname, serverLname, serverPhone, serverEmail, serverPassword])\r\n\r\n\r\n    //catch user cards\r\n    useEffect(() => {\r\n        const user = {\r\n            \"email\": securestorage.get(\"user\"),\r\n        }\r\n        axios.post(\"http://localhost:8080/cards\", user)\r\n            .then(res => {\r\n                const cardData = res.data\r\n                console.log(cardData)\r\n                setuserCards([...cardData])\r\n            })\r\n\r\n    }, [pageRefresh])\r\n\r\n    function handleCardTablesetActive(cardId) {\r\n        const cardToUpdate = {\r\n            _id: cardId._id,\r\n            cardstatus: \"Active\",\r\n            card_holder: cardId.card_holder,\r\n            cardnumber: cardId.cardnumber,\r\n            cardexpiryMonth: cardId.cardexpiryMonth,\r\n            cardexpiryYear: cardId.cardexpiryYear,\r\n            cardsec: cardId.cardsec,\r\n            email: cardId.email\r\n        }\r\n        axios.post('http://localhost:8080/card/update', cardToUpdate)\r\n            .then(res => {\r\n                console.log(res)\r\n                // history.push('/dashboardUser')\r\n                // window.location.reload(false);\r\n                setpageRefresh(pageRefresh + 1)\r\n\r\n            })\r\n    }\r\n    function handleCardTablesetDelete(cardId) {\r\n        console.log(cardId._id)\r\n        const cardToDelete = {\r\n            _id: cardId._id\r\n        }\r\n        axios.post('http://localhost:8080/card/delete', cardToDelete)\r\n            .then(res => {\r\n                // console.log(res)\r\n                // history.push('/dashboardUser')\r\n                // window.location.reload(false);\r\n                setpageRefresh(pageRefresh + 1)\r\n\r\n            })\r\n    }\r\n    function displayCards() {\r\n        /*----------------------------------*/\r\n\r\n        /*----------------------------------*/\r\n        if (userCards.length === 0) {\r\n            return (\r\n                <h1>No cards to show</h1>\r\n            )\r\n        } else {\r\n            return (\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <th>Card Holder</th>\r\n                            <th>Expiry Month</th>\r\n                            <th>Expiry Year</th>\r\n                            <th>Card Number</th>\r\n                            <th>Security Code</th>\r\n                            <th>Card Status</th>\r\n                            <th>Set Active</th>\r\n                            <th>Delete</th>\r\n                        </tr>\r\n                        {\r\n                            userCards.map(\r\n                                item =>\r\n                                    <tr key={item._id}>\r\n                                        <td>{item.card_holder}</td>\r\n                                        <td>{item.cardexpiryMonth}</td>\r\n                                        <td>{item.cardexpiryYear}</td>\r\n                                        <td>{item.cardnumber}</td>\r\n                                        <td>{item.cardsec}</td>\r\n                                        <td>{item.cardstatus}</td>\r\n                                        <td><button className=\"btn btn-primary\" onClick={() => handleCardTablesetActive(item)}>Set Active</button></td>\r\n                                        <td><button className=\"btn btn-primary\" onClick={() => handleCardTablesetDelete(item)}>delete</button></td>\r\n                                    </tr>\r\n                            )\r\n                        }\r\n                    </tbody>\r\n                </table>\r\n\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    //use states:\r\n    const [fname, setFname] = useState(\"\")\r\n    const [lname, setLname] = useState(\"\")\r\n    const [phone, setPhone] = useState(\"\")\r\n    const [email, setEmail] = useState(\"\")\r\n    const [password, setPassword] = useState(\"\")\r\n    const [repassword, setRepassword] = useState(\"\")\r\n\r\n    //card use state\r\n    const [cardHolderName, setCardHolderName] = useState(\"\")\r\n    const [cardNumber, setCardNumber] = useState(\"\")\r\n    const [cardExpMonth, setCardExpMonth] = useState(\"\")\r\n    const [cardExpYear, setCardExpYear] = useState(\"\")\r\n    const [cardSecCode, setcardSecCode] = useState(\"\")\r\n\r\n\r\n    //update profile MOdal\r\n    const [profilemodal, setProfilemodal] = useState(false)\r\n    const [addcardmodal, setAddcardmodal] = useState(false)\r\n\r\n    //modal Errors\r\n    const [updateProfileModalError, setupdateProfileModalError] = useState(\"\")\r\n    const [cardModalError, setcardModalError] = useState(\"\")\r\n\r\n\r\n    //Modal functionality\r\n    //Profile Modal\r\n    const closeAndUpdateProfile = (e) => {\r\n        //do update changes  !!! \r\n        e.preventDefault()\r\n        const userToUpdate = {\r\n            \"first_name\": fname,\r\n            \"last_name\": lname,\r\n            \"phone\": phone,\r\n            \"email\": email,\r\n            \"password\": password,\r\n            \"authlevel\": \"user\"\r\n        }\r\n        const currentEmail = serverEmail\r\n        if (fname === \"\" || lname === \"\" || phone === \"\" || email === \"\" || password === \"\" || repassword === \"\") {\r\n            setupdateProfileModalError(\"Please Fill all fields\")\r\n        } else {\r\n            if (password === repassword) {\r\n                //do update here\r\n                axios.post(\"http://localhost:8080/users/update\", [userToUpdate, currentEmail])\r\n                    .then(res => {\r\n                        const userData = res.data\r\n                        console.log(userData)\r\n                        let errors = res.data.errors\r\n                        let errorReport = []\r\n                        for (const property in errors) {\r\n                            console.log(`${property}: ${errors[property].message}`);\r\n                            errorReport.push(`${property}: ${errors[property].message}`)\r\n                        }\r\n                        setupdateProfileModalError(errorReport)\r\n                        if (errorReport.length === 0) {\r\n                            //history.push('/')\r\n                            setProfilemodal(false)\r\n                            localStorage.clear();\r\n                            history.push('/')\r\n                        }\r\n\r\n                    })\r\n\r\n            } else {\r\n                setupdateProfileModalError(\"Password does not match\")\r\n            }\r\n        }\r\n    }\r\n\r\n    function openToUpdateProfile() {\r\n        //catch user information and put them in the place holder !!!\r\n        //make re-password place holder empty\r\n        setProfilemodal(true)\r\n    }\r\n\r\n\r\n    //card modal\r\n\r\n    const closeAddCard = (e) => {\r\n        //do update changes\r\n        e.preventDefault();\r\n        const card = {\r\n            cardstatus: \"InActive\",\r\n            card_holder: cardHolderName,\r\n            cardnumber: cardNumber,\r\n            cardexpiryMonth: cardExpMonth,\r\n            cardexpiryYear: cardExpYear,\r\n            cardsec: cardSecCode,\r\n            email: serverEmail\r\n            // holder_email: localStorage.getItem(\"user\")\r\n            // email: \"mikeadams@fadvishor.ca\"\r\n        }\r\n        if (cardHolderName === \"\" || cardNumber === \"\" || cardExpMonth === \"\" || cardExpYear === \"\" || cardSecCode === \"\") {\r\n            setcardModalError(\"Please Fill all Fields\")\r\n        } else {\r\n            axios.post('http://localhost:8080/card', card)\r\n                .then(res => {\r\n                    console.log(res)\r\n                    let errors = res.data.errors\r\n                    let errorReport = []\r\n                    console.log(`errors are here ${errors}`)\r\n                    for (const property in errors) {\r\n                        console.log(`${property}: ${errors[property].message}`);\r\n                        errorReport.push(`${property}: ${errors[property].message}`)\r\n                    }\r\n                    setcardModalError(errorReport)\r\n                    if (errorReport.length === 0) {\r\n                        console.log(cardModalError)\r\n                        setCardHolderName(\"\")\r\n                        setCardNumber(\"\")\r\n                        setCardExpMonth(\"\")\r\n                        setCardExpYear(\"\")\r\n                        setcardSecCode(\"\")\r\n                        setAddcardmodal(false)\r\n                        setpageRefresh(pageRefresh + 1)\r\n                    } else {\r\n                        setcardModalError(\"something went wrong\")\r\n                    }\r\n                }).catch(err =>\r\n                    console.log(err)\r\n                )\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n    function openAddCard() {\r\n        //catch user card information and put them in place holder and hide security number\r\n        setAddcardmodal(true)\r\n    }\r\n    function renderPassword(word) {\r\n        let newword = \"\"\r\n        for (let i = 0; i <= word.length; i++) {\r\n            if (i <= 2) {\r\n                newword = newword + `${word[i]}`\r\n            } else {\r\n                newword = newword + '*'\r\n            }\r\n        }\r\n        return newword\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n\r\n            <div className=\"profile\">\r\n                <div className=\"myDiv\" >\r\n                    <br />\r\n                    <br />\r\n                    <table style={{ width: \"25%\", margin: \"auto\", fontSize: \"25px\" }}>\r\n                        <tbody>\r\n                            <tr>\r\n                                <th>First Name</th>\r\n                                <td>{serverFname}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>Last Name</th>\r\n                                <td>{serverLname}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>Phone</th>\r\n                                <td>{serverPhone}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>Email</th>\r\n                                <td>{serverEmail}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <th>Password</th>\r\n                                <td>{\r\n                                    renderPassword(serverPassword)\r\n                                }</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <br />\r\n                    <br />\r\n                    <button className=\"btn btn-primary\" onClick={openToUpdateProfile}>Edit Profile</button>\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n                <br />\r\n                <div className=\"myDiv\">\r\n                    <h1>Cards</h1>\r\n                    <br />\r\n                    <br />\r\n                    {/* <h1>Card Holder: </h1>\r\n                    <h1>Card Number: </h1>\r\n                    <h1>Cards Expiary: </h1>\r\n                    <h1>Security Code: </h1> */}\r\n                    <div>{displayCards()}</div>\r\n                    <br />\r\n                    <br />\r\n                    <button className=\"btn btn-primary\" onClick={openAddCard}>Add Card</button>\r\n                    <br />\r\n                    <br />\r\n                </div>\r\n\r\n            </div>\r\n\r\n\r\n            {/*Modals you can change styles of the modal in */}\r\n            {/*Profile*/}\r\n            <div>\r\n                <Modal\r\n                    isOpen={profilemodal}\r\n                    onRequestClose={() => setProfilemodal(false)}\r\n                    style={\r\n                        {\r\n                            overlay: {\r\n                                backgroundColor: 'ActiveCaption',\r\n                            },\r\n                            content: {\r\n                                color: 'MenuText',\r\n                                width: '50%',\r\n                                height: '50%',\r\n                                top: '50%',\r\n                                left: '50%',\r\n                                right: 'auto',\r\n                                bottom: 'auto',\r\n                                marginRight: '-50%',\r\n                                transform: 'translate(-50%, -50%)'\r\n                            },\r\n                        }\r\n                    }\r\n                >\r\n\r\n                    <div className=\"col-sm-6 offset-sm-3\">\r\n                        <h1>Update Profile</h1>\r\n                        <input type=\"text\" className=\"form-control\" placeholder={serverFname} onChange={(e) => setFname(e.target.value)} value={fname} /><br />\r\n                        <input type=\"text\" className=\"form-control\" placeholder={serverLname} onChange={(e) => setLname(e.target.value)} value={lname} /><br />\r\n                        <input type=\"text\" className=\"form-control\" placeholder={serverPhone} onChange={(e) => setPhone(e.target.value)} value={phone} /><br />\r\n                        <input type=\"text\" className=\"form-control\" placeholder={serverEmail} onChange={(e) => setEmail(e.target.value)} value={email} /><br />\r\n                        <input type=\"password\" className=\"form-control\" placeholder={renderPasswordserverPassword} onChange={(e) => setPassword(e.target.value)} value={password} /><br />\r\n                        <input type=\"password\" className=\"form-control\" placeholder=\"Re-Password\" onChange={(e) => setRepassword(e.target.value)} value={repassword} /><br />\r\n                        <button onClick={closeAndUpdateProfile} className=\"btn btn-primary\">Update</button>\r\n                    </div>\r\n                    <br />\r\n                    <br />\r\n                    <h3>{updateProfileModalError}</h3>\r\n                </Modal>\r\n\r\n                {/*Card*/}\r\n                <Modal\r\n                    isOpen={addcardmodal}\r\n                    onRequestClose={() => setAddcardmodal(false)}\r\n                    style={\r\n                        {\r\n                            overlay: {\r\n                                backgroundColor: 'ActiveCaption',\r\n                            },\r\n                            content: {\r\n                                color: 'MenuText',\r\n                                width: '50%',\r\n                                height: '50%',\r\n                                top: '50%',\r\n                                left: '50%',\r\n                                right: 'auto',\r\n                                bottom: 'auto',\r\n                                marginRight: '-50%',\r\n                                transform: 'translate(-50%, -50%)'\r\n                            },\r\n                        }\r\n                    }\r\n                >\r\n                    <h1>Update Card</h1>\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Holder Name\" onChange={(e) => setCardHolderName(e.target.value)} value={cardHolderName} /><br />\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Card Number\" onChange={(e) => setCardNumber(e.target.value)} value={cardNumber} /><br />\r\n                    <input type=\"text\" min=\"1\" max=\"12\" className=\"form-control\" placeholder=\"Expiary Month\" onChange={(e) => setCardExpMonth(e.target.value)} value={cardExpMonth} /><br />\r\n                    <input type=\"text\" className=\"form-control\" placeholder=\"Expiary Year\" onChange={(e) => setCardExpYear(e.target.value)} value={cardExpYear} /><br />\r\n                    <input type=\"password\" className=\"form-control\" placeholder=\"Secret Code\" onChange={(e) => setcardSecCode(e.target.value)} value={cardSecCode} /><br />\r\n                    <button onClick={closeAddCard} className=\"btn btn-primary\">Add Card</button>\r\n                    <br />\r\n                    <br />\r\n                    <h3>{cardModalError}</h3>\r\n                </Modal>\r\n            </div>\r\n            <br />\r\n            <br />\r\n            <br />\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}